package com.lec.ex3supermarket;

import java.util.ArrayList;
import java.util.Scanner;

public class SuperMarketMng {
	public static void main(String[] args) {
		CustomerDao dao = CustomerDao.getInstance();
		Scanner scanner = new Scanner(System.in);
		String fn;
		ArrayList<CustomerDto> customers;
		do {
			System.out.print("1:회원가입,2:폰검색,3:물품구입,4:레벨별출력,5:전체출력,6:회원탈퇴, 그외:종료");
			fn = scanner.next(); 
			switch(fn) {
			case "1" :
				System.out.print("가입할 회원 핸드폰 번호 ?");
				String ctel = scanner.next();
				System.out.print("가입할 이름은 ? ");
				String cname = scanner.next();
				int result = dao.insertCustomer(ctel, cname);
				System.out.println(result == CustomerDao.SUCCESS? "가입성공" : "가입실패");
				break;
			case "2" :
				System.out.print("검색할 전화번호 뒷4자리나 전화번호 전체 : ");
				String searchTel = scanner.next();
				customers = dao.ctelGetCustomers(searchTel);
				if(customers.isEmpty()) {
					System.out.println(searchTel + "전화번호로 검색된 고객이 없습니다. 회원가입하세요");
				}else {
					System.out.println("아이디\t핸드폰번호\t\t이름\t포인트\t구매누적액\t고객레벨\t레벨업을 위한 추천 구매액");
					for(CustomerDto customer : customers) {
						System.out.println(customer);
					}
				}
				break;
			case "3" :
				System.out.println("3번 기능");
				break;
			case "4" :
				System.out.println("4번 기능");
				break;
			case "5" :
				System.out.println("5번 기능");
				break;
			case "6" :
				System.out.println("6번 기능");
			}
		}while(fn.equals("1") || fn.equals("2") || fn.equals("3") || 
			   fn.equals("4") || fn.equals("5") || fn.equals("6"));
		System.out.println("BYE");
	}
}
